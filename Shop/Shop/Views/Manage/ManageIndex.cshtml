@model Shop.ViewModels.ManageCredentialsViewModel
@{
    ViewBag.Title = "ManageIndex";
    Layout = "~/Views/Shared/_ManageLayout.cshtml";
}

<section id="content" style="height:630px;">
    <section id="rightContent">
        @using (@Html.BeginForm("ChangeProfile", "Manage"))
        {
            @Html.AntiForgeryToken()
            

            <table style="margin-top:100px;">
                <caption>Your Data</caption>
                <tr>
                    <td>@Html.LabelFor(o => o.User.Name, "Name:")</td>
                    <td>@Html.TextBoxFor(o => o.User.Name)</td>
                    <td >@Html.ValidationMessageFor(o => o.User.Name)</td>
                </tr>
                <tr>
                    <td>@Html.LabelFor(o => o.User.LastName, "Lastname")</td>
                    <td>@Html.TextBoxFor(o => o.User.LastName)</td>
                    <td id="RED">@Html.ValidationMessageFor(o => o.User.LastName)</td>
                </tr>
                <tr>
                    <td>@Html.LabelFor(o => o.User.PhoneNumber, "Phonenumber")</td>
                    <td>@Html.TextBoxFor(o => o.User.PhoneNumber)</td>
                    <td id="RED">@Html.ValidationMessageFor(o => o.User.PhoneNumber)</td>
                </tr>
                <tr>
                    <td>@Html.LabelFor(o => o.User.Street, "Street")</td>
                    <td>@Html.TextBoxFor(o => o.User.Street)</td>
                    <td id="RED">@Html.ValidationMessageFor(o => o.User.Street)</td>
                </tr>
                <tr>
                    <td>@Html.LabelFor(o => o.User.StreetNumber, "StreetNumber")</td>
                    <td>@Html.TextBoxFor(o => o.User.StreetNumber)</td>
                    <td id="RED">@Html.ValidationMessageFor(o => o.User.StreetNumber)</td>
                </tr>
                <tr>
                    <td>@Html.LabelFor(o => o.User.HouseNumber, "House Number")</td>
                    <td>@Html.TextBoxFor(o => o.User.HouseNumber)</td>
                    <td id="RED">@Html.ValidationMessageFor(o => o.User.HouseNumber)</td>
                </tr>
                <tr>
                    <td>@Html.LabelFor(o => o.User.PostCode, "Postcode")</td>
                    <td>@Html.TextBoxFor(o => o.User.PostCode)</td>
                    <td id="RED">@Html.ValidationMessageFor(o => o.User.PostCode)</td>
                </tr>
                <tr>
                    <td>@Html.LabelFor(o => o.User.City, "City")</td>
                    <td>@Html.TextBoxFor(o => o.User.City)</td>
                    <td id="RED">@Html.ValidationMessageFor(o => o.User.City)</td>
                </tr>
                <tr>
                    <td>@Html.LabelFor(o => o.User.Email, "Email")</td>
                    <td>@Html.TextBoxFor(o => o.User.Email)</td>
                    <td id="RED">@Html.ValidationMessageFor(o => o.User.Email)</td>
                </tr>
                <tr>
                    <td></td>
                    <td colspan="3">
                        <input id="submitButton" type="submit" value="Submit" />
                    </td>
                </tr>

            </table>
        }


        @using (Html.BeginForm("ChangePassword", "Manage", FormMethod.Post))
        {
            @Html.AntiForgeryToken()

            <div id="RED">
                @Html.ValidationMessage("password-error", "")
            </div>

            if (Model.Message.HasValue)
            {
                <div>
                    @switch (Model.Message)
                    {
                        case Shop.Controllers.ManageController.ManageMessageId.ChangePasswordSuccess:
                            @: Password changed succesfully!
                            break;
                        case Shop.Controllers.ManageController.ManageMessageId.Error:
                            @: Error occured.
                            break;
                    }
                </div>
            }

            <table id="book_description" style="margin-left: auto; margin-right: auto;">
                <caption>Change Password</caption>
                <tr>
                    <td>@Html.LabelFor(o => o.ChangePasswordViewModel.OldPassword, "Old Password:")</td>
                    <td>
                        @Html.PasswordFor(o => o.ChangePasswordViewModel.OldPassword)
                    </td>
                    <td>
                        <div id="RED">
                            @Html.ValidationMessageFor(o => o.ChangePasswordViewModel.OldPassword)
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>@Html.LabelFor(o => o.ChangePasswordViewModel.NewPassword, "New Password:")</td>
                    <td>
                        @Html.PasswordFor(o => o.ChangePasswordViewModel.NewPassword)
                        
                    </td>
                    <td>
                        <div id="RED">
                            @Html.ValidationMessageFor(o => o.ChangePasswordViewModel.NewPassword)
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>@Html.LabelFor(o => o.ChangePasswordViewModel.ConfirmPassword, "Confirm Password:")</td>
                    <td>
                        @Html.PasswordFor(o => o.ChangePasswordViewModel.ConfirmPassword)
                        
                    </td>
                    <td>
                        <div id="RED">
                            @Html.ValidationMessageFor(o => o.ChangePasswordViewModel.ConfirmPassword)
                        </div>
                    </td>
                </tr>
                <tr style="text-align: right;">
                    <td></td>
                    <td colspan="3">
                        <div style="margin-bottom: 10px;">
                        </div>

                        <input type="submit" value="Change" class="submitLink" />
                    </td>
                </tr>
            </table>

        }
    </section>
</section>

